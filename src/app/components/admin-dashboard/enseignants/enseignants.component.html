<div class="container">
  <h2>Gestion des Enseignants</h2>

  <div *ngIf="successMessage" class="alert success">{{ successMessage }}</div>
  <div *ngIf="errorMessage" class="alert error">{{ errorMessage }}</div>

  <form [formGroup]="enseignantForm" (ngSubmit)="onSubmit()" class="form-grid">
    <div>
      <label>Numéro Enseignant</label>
      <input type="text" formControlName="numero_enseignant" />
    </div>
    <div>
      <label>Spécialité</label>
      <input type="text" formControlName="specialite" />
    </div>
    <div>
      <label>Date d'embauche</label>
      <input type="date" formControlName="date_embauche" />
    </div>
    <div>
      <label>Téléphone</label>
      <input type="text" formControlName="telephone" />
    </div>
    <div>
      <label>Diplômes</label>
      <input type="text" formControlName="diplomes" />
    </div>
    <div>
      <label>User ID</label>
      <input type="number" formControlName="user_id" />
    </div>

    <button type="submit">
      {{ editingId ? 'Mettre à jour' : 'Ajouter' }}
    </button>
    <button type="button" class="cancel-btn" (click)="resetForm()">Annuler</button>
  </form>

  <table class="styled-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Numéro</th>
        <th>Spécialité</th>
        <th>Date d'embauche</th>
        <th>Téléphone</th>
        <th>Diplômes</th>
        <th>User ID</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let ens of enseignants">
        <td>{{ ens.id }}</td>
        <td>{{ ens.numero_enseignant }}</td>
        <td>{{ ens.specialite }}</td>
        <td>{{ ens.date_embauche }}</td>
        <td>{{ ens.telephone }}</td>
        <td>{{ ens.diplomes }}</td>
        <td>{{ ens.user_id }}</td>
        <td>
          <button (click)="edit(ens)">✏️</button>
          <button class="danger" (click)="delete(ens.id!)">🗑️</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
